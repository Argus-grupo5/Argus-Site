<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../css/dashboard/servers.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.anychart.com/releases/8.13.0/css/anychart-ui.min.css" />
    <link rel="stylesheet" type="text/css"
        href="https://cdn.anychart.com/releases/8.13.0/fonts/css/anychart-font.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.3.15/proj4.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-base.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-map.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-exports.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-ui.min.js"></script>
    <script src="https://cdn.anychart.com/geodata/2.2.0/countries/brazil/brazil.js"></script>
    <script src="https://cdn.anychart.com/releases/8.13.0/js/anychart-ui.min.js"></script>



    <script src="./script/dash.js"></script>
    <title>ARGUS | Servidores</title>
</head>


<body>
    <div id="id_sair">
    </div>

    <div id="modal" class="modal">
        <div class="modal-geral" id="div_modal_label"></div>
    </div>

    <header class="desktopNav" id="navDesktop"></header>

    <header class="headerTop">
        <div class="geralInfo">
            <div class="info tooltipInfo">
                <div class="server">
                    <img src="../../assets/dashboard/desktop/server.svg" alt="">
                </div>
                <div class="serversMonitoring" id="id_servidores_monitorados">
                </div>
                <span class="tooltiptextInfo">
                    Servidores em monitoramento
                </span>
            </div>
            <div class="info">
                <div class="bell">
                    <img src="../../assets/dashboard/desktop/bell.svg" alt="">
                </div>
                <div class="risk tooltipInfo" id="id_servidores_em_estado_critico">
                    <p id="qtd_critico">1</p>
                    <span class="tooltiptextInfo">
                        Servidores em atenção
                    </span>
                </div>
            </div>
        </div>
    </header>

    <div class="top-boxes-container">

        <div class="info-box alert-box">
            <p class="label">Região com mais Alertas</p>
            <p class="value">São Paulo</p>
        </div>

        <div class="info-box server-box-N-Servidores">
            <p class="label">Servidores em Alertas (Ultima semana)</p>
            <p class="value">128/200</p>
        </div>

        <div class="info-box component-box">
            <p class="label">Componente c/ mais alertas</p>
            <p class="value">GPU</p>
        </div>

        <div class="Select-location">
            <select id="id_filter">
                <option value="0" selected>Selecione a Região</option>
                <option value="1">País Inteiro</option>
                <option value="2">Norte</option>
                <option value="3">Nordeste</option>
                <option value="4">Centro-oeste</option>
                <option value="5">Sul</option>
                <option value="6">Sudeste</option>
            </select>
        </div>

        <div class="botãoRegioes"> <button onclick="buscarRegioes()">Buscar</button></div>


    </div>

    <div class="search" id="search">
    </div>

    <div class="container">
        <div class="server-list" id="regioes"></div>
    </div>

    <div id="mapBrasil"></div>
    <div id="mapNorte" style="display:none;"></div>
    <div id="mapNordeste" style="display:none;"></div>
    <div id="mapCentro" style="display:none;"></div>
    <div id="mapSul" style="display:none;"></div>
    <div id="mapSudeste" style="display:none;"></div>


    </div>
</body>


</html>
<script type="text/javascript">

    header("server", sessionStorage.CARGO_CARGO);


    function fecharModal() {
        let modal = document.getElementById("modal")
        modal.style.display = "none"
    }

    anychart.onDocumentReady(function () {

        mapBrasil.style.display = 'block';
        mapNorte.style.display = 'none';
        mapCentro.style.display = 'none';
        mapSul.style.display = 'none';
        mapSudeste.style.display = 'none';
        mapNordeste.style.display = 'none';

        var map = anychart.map();


        var dataSet = anychart.data.set(
            [{ "id": "BR.GO", "capital": "Goiania", "value": 0 },
            { "id": "BR.SP", "capital": "São Paulo", "value": 37 },
            { "id": "BR.PE", "capital": "Recife", "value": 2 },
            { "id": "BR.AC", "capital": "Rio Branco", "value": 3 },
            { "id": "BR.AM", "capital": "Manaus", "value": 4 },
            { "id": "BR.MA", "capital": "São Luís", "value": 5 },
            { "id": "BR.PA", "capital": "Belém", "value": 6 },
            { "id": "BR.RO", "capital": "Porto Velho", "value": 7 },
            { "id": "BR.TO", "capital": "Palmas", "value": 8 },
            { "id": "BR.DF", "capital": "Brasília", "value": 9 },
            { "id": "BR.MS", "capital": "Campo Grande", "value": 10 },
            { "id": "BR.MG", "capital": "Belo Horizonte", "value": 11 },
            { "id": "BR.MT", "capital": "Cuiabá", "value": 12 },
            { "id": "BR.RS", "capital": "Porto Alegre", "value": 13 },
            { "id": "BR.PR", "capital": "Curitiba", "value": 14 },
            { "id": "BR.SC", "capital": "Florianópolis", "value": 15 },
            { "id": "BR.CE", "capital": "Fortaleza", "value": 16 },
            { "id": "BR.PI", "capital": "Teresina", "value": 17 },
            { "id": "BR.AL", "capital": "Maceió", "value": 18 },
            { "id": "BR.BA", "capital": "Salvador", "value": 19 },
            { "id": "BR.ES", "capital": "Vitória", "value": 20 },
            { "id": "BR.PB", "capital": "João Pessoa", "value": 21 },
            { "id": "BR.RJ", "capital": "Rio de Janeiro", "value": 22 },
            { "id": "BR.RN", "capital": "Natal", "value": 23 },
            { "id": "BR.SE", "capital": "Aracaju", "value": 24 },
            { "id": "BR.RR", "capital": "Boa Vista", "value": 25 },
            { "id": "BR.AP", "capital": "Macapá", "value": 26 }]
        );


        series = map.choropleth(dataSet);

        series.geoIdField('id');

        series.tooltip().format(function (e) {
            return "Capital: " + e.getData("capital") + "\n" +
                "Alertas: " + e.getData("value")
        });


        series.colorScale(anychart.scales.linearColor('#FFFFFF', '#FF670A'));
        series.hovered().fill('#8c8c8c');

        map.listen('pointClick', function (e) {
            map.zoomToFeature(e.point.get('id'));
        })

        // Disables zoom On Mouse Wheel
        map.interactivity().zoomOnMouseWheel(false);
        // Disables zoom on double click
        map.interactivity().keyboardZoomAndMove(false);
        // Disables zoom on double click
        map.interactivity().zoomOnDoubleClick(false);


        map.geoData(anychart.maps['brazil']);

        map.colorRange().enabled(true);


        map.container('mapBrasil');

        map.background(null);

        var nivelZoom = 1.0;
        var eixoX = 800;
        var eixoY = 5;

        map.zoomTo(nivelZoom, eixoX, eixoY);

        map.draw();
    });


    function buscarRegioes() {

        let regioes = id_filter.value;

        if (regioes == 1) {
            anychart.onDocumentReady(function () {

                mapBrasil.style.display = 'block';
                mapNorte.style.display = 'none';
                mapCentro.style.display = 'none';
                mapSul.style.display = 'none';
                mapSudeste.style.display = 'none';
                mapNordeste.style.display = 'none';

                var map = anychart.map();


                var dataSet = anychart.data.set(
                    [{ "id": "BR.GO", "capital": "Goiania", "value": 0 },
                    { "id": "BR.SP", "capital": "São Paulo", "value": 37 },
                    { "id": "BR.PE", "capital": "Recife", "value": 2 },
                    { "id": "BR.AC", "capital": "Rio Branco", "value": 3 },
                    { "id": "BR.AM", "capital": "Manaus", "value": 4 },
                    { "id": "BR.MA", "capital": "São Luís", "value": 5 },
                    { "id": "BR.PA", "capital": "Belém", "value": 6 },
                    { "id": "BR.RO", "capital": "Porto Velho", "value": 7 },
                    { "id": "BR.TO", "capital": "Palmas", "value": 8 },
                    { "id": "BR.DF", "capital": "Brasília", "value": 9 },
                    { "id": "BR.MS", "capital": "Campo Grande", "value": 10 },
                    { "id": "BR.MG", "capital": "Belo Horizonte", "value": 11 },
                    { "id": "BR.MT", "capital": "Cuiabá", "value": 12 },
                    { "id": "BR.RS", "capital": "Porto Alegre", "value": 13 },
                    { "id": "BR.PR", "capital": "Curitiba", "value": 14 },
                    { "id": "BR.SC", "capital": "Florianópolis", "value": 15 },
                    { "id": "BR.CE", "capital": "Fortaleza", "value": 16 },
                    { "id": "BR.PI", "capital": "Teresina", "value": 17 },
                    { "id": "BR.AL", "capital": "Maceió", "value": 18 },
                    { "id": "BR.BA", "capital": "Salvador", "value": 19 },
                    { "id": "BR.ES", "capital": "Vitória", "value": 20 },
                    { "id": "BR.PB", "capital": "João Pessoa", "value": 21 },
                    { "id": "BR.RJ", "capital": "Rio de Janeiro", "value": 22 },
                    { "id": "BR.RN", "capital": "Natal", "value": 23 },
                    { "id": "BR.SE", "capital": "Aracaju", "value": 24 },
                    { "id": "BR.RR", "capital": "Boa Vista", "value": 25 },
                    { "id": "BR.AP", "capital": "Macapá", "value": 26 }]
                );

                series = map.choropleth(dataSet);

                series.geoIdField('id');

                series.colorScale(anychart.scales.linearColor('#FFFFFF', '#FF670A'));

                series.hovered().fill('#8c8c8c');

                series.tooltip().format(function (e) {
                    return "Capital: " + e.getData("capital") + "\n" +
                        "Alertas: " + e.getData("value")
                });

                map.listen('pointClick', function (e) {
                    map.zoomToFeature(e.point.get('id'));
                })

                // Disables zoom On Mouse Wheel
                map.interactivity().zoomOnMouseWheel(false);
                // Disables zoom on double click
                map.interactivity().keyboardZoomAndMove(false);
                // Disables zoom on double click
                map.interactivity().zoomOnDoubleClick(false);


                map.geoData(anychart.maps['brazil']);

                map.colorRange().enabled(true);


                map.container('mapBrasil');

                map.background(null);

                var nivelZoom = 1.0;
                var eixoX = 800;
                var eixoY = 5;

                map.zoomTo(nivelZoom, eixoX, eixoY);

                map.draw();
            });
        } else if (regioes == 2) {

            mapBrasil.style.display = 'none';
            mapNorte.style.display = 'block';
            mapCentro.style.display = 'none';
            mapSul.style.display = 'none';
            mapSudeste.style.display = 'none';
            mapNordeste.style.display = 'none';
            // Norte

            anychart.onDocumentReady(function () {
                var map = anychart.map();

                function getDataSudeste() {

                    return [
                        { "id": "BR.AC", "capital": "Rio Branco", "value": 50 },
                        { "id": "BR.AP", "capital": "Macapá", "value": 90 },
                        { "id": "BR.AM", "capital": "Manaus", "value": 75 },
                        { "id": "BR.PA", "capital": "Belém", "value": 60 },
                        { "id": "BR.RO", "capital": "Porto Velho", "value": 90 },
                        { "id": "BR.RR", "capital": "Boa Vista", "value": 75 },
                        { "id": "BR.TO", "capital": "Palmas", "value": 60 }
                    ];
                }

                var dataSet = anychart.data.set(getDataSudeste());

                series = map.choropleth(dataSet);

                series.geoIdField('id');
                series.colorScale(anychart.scales.linearColor('#FFFFFF', '#FF670A'));
                series.hovered().fill('#8c8c8c');

                series.tooltip().format(function (e) {
                    return "Capital: " + e.getData("capital") + "\n" +
                        "Alertas: " + e.getData("value")
                });

                map.listen('pointClick', function (e) {
                    map.zoomToFeature(e.point.get('id'));
                })

                map.geoData(anychart.maps['brazil']);

                map.unboundRegions().enabled(true);
                map.unboundRegions().fill('none');
                map.unboundRegions().stroke('none');

                map.colorRange().enabled(true);

                map.background(null);

                var nivelZoom = 1.7;
                var eixoX = 800;
                var eixoY = 5;

                map.zoomTo(nivelZoom, eixoX, eixoY);

                map.container('mapNorte');

                map.draw();
            });

        } else if (regioes == 3) {

            mapBrasil.style.display = 'none';
            mapNorte.style.display = 'none';
            mapCentro.style.display = 'none';
            mapSul.style.display = 'none';
            mapSudeste.style.display = 'none';
            mapNordeste.style.display = 'block';

            // Nordeste

            anychart.onDocumentReady(function () {
                var map = anychart.map();

                function getDataSudeste() {

                    return [
                        { "id": "BR.CE", "capital": "Fortaleza", "value": 50 },
                        { "id": "BR.PI", "capital": "Teresina", "value": 90 },
                        { "id": "BR.AL", "capital": "Maceió", "value": 75 },
                        { "id": "BR.BA", "capital": "Salvador", "value": 60 },
                        { "id": "BR.MA", "capital": "São Luís", "value": 50 },
                        { "id": "BR.PB", "capital": "João Pessoa", "value": 90 },
                        { "id": "BR.PE", "capital": "Recife", "value": 75 },
                        { "id": "BR.RN", "capital": "Natal", "value": 60 },
                        { "id": "BR.SE", "capital": "Aracaju", "value": 60 }
                    ];
                }

                var dataSet = anychart.data.set(getDataSudeste());

                series = map.choropleth(dataSet);

                series.geoIdField('id');
                series.colorScale(anychart.scales.linearColor('#FFFFFF', '#FF670A'));
                series.hovered().fill('#8c8c8c');

                series.tooltip().format(function (e) {
                    return "Capital: " + e.getData("capital") + "\n" +
                        "Alertas: " + e.getData("value")
                });

                map.geoData(anychart.maps['brazil']);

                map.unboundRegions().enabled(true);
                map.unboundRegions().fill('none');
                map.unboundRegions().stroke('none');

                map.colorRange().enabled(true);

                map.background(null);

                var nivelZoom = 2.0;
                var eixoX = 5000;
                var eixoY = 200;

                map.zoomTo(nivelZoom, eixoX, eixoY);

                map.container('mapNordeste');

                map.draw();
            });

        } else if (regioes == 4) {

            mapBrasil.style.display = 'none';
            mapNorte.style.display = 'none';
            mapCentro.style.display = 'block';
            mapSul.style.display = 'none';
            mapSudeste.style.display = 'none';
            mapNordeste.style.display = 'none';

            // Centro

            anychart.onDocumentReady(function () {
                var map = anychart.map();

                function getDataSudeste() {

                    return [
                        { "id": "BR.GO", "capital": "Goiânia", "value": 50 },
                        { "id": "BR.MT", "capital": "Cuiabá", "value": 90 },
                        { "id": "BR.MS", "capital": "Campo Grande", "value": 75 },
                        { "id": "BR.DF", "capital": "Brasilia", "value": 60 }
                    ];
                }

                var dataSet = anychart.data.set(getDataSudeste());

                series = map.choropleth(dataSet);

                series.geoIdField('id');
                series.colorScale(anychart.scales.linearColor('#FFFFFF', '#FF670A'));
                series.hovered().fill('#8c8c8c');

                series.tooltip().format(function (e) {
                    return "Capital: " + e.getData("capital") + "\n" +
                        "Alertas: " + e.getData("value")
                });

                map.geoData(anychart.maps['brazil']);

                map.unboundRegions().enabled(true);
                map.unboundRegions().fill('none');
                map.unboundRegions().stroke('none');

                map.colorRange().enabled(true);

                map.background(null);

                var nivelZoom = 2.3;
                var eixoX = 910;
                var eixoY = 390;

                map.zoomTo(nivelZoom, eixoX, eixoY);


                map.container('mapCentro');

                map.draw();
            });

        } else if (regioes == 5) {

            mapBrasil.style.display = 'none';
            mapNorte.style.display = 'none';
            mapCentro.style.display = 'none';
            mapSul.style.display = 'block';
            mapSudeste.style.display = 'none';
            mapNordeste.style.display = 'none';

            // Nordeste

            anychart.onDocumentReady(function () {
                var map = anychart.map();

                function getDataSudeste() {

                    return [
                        { "id": "BR.PR", "capital": "Curitiba", "value": 50 },
                        { "id": "BR.SC", "capital": "Florianópolis", "value": 90 },
                        { "id": "BR.RS", "capital": "Porto Alegre", "value": 75 }
                    ];
                }

                var dataSet = anychart.data.set(getDataSudeste());

                series = map.choropleth(dataSet);

                series.geoIdField('id');
                series.colorScale(anychart.scales.linearColor('#FFFFFF', '#FF670A'));
                series.hovered().fill('#addd8e');

                series.tooltip().format(function (e) {
                    return "Capital: " + e.getData("capital") + "\n" +
                        "Alertas: " + e.getData("value")
                });

                map.geoData(anychart.maps['brazil']);

                map.unboundRegions().enabled(true);
                map.unboundRegions().fill('none');
                map.unboundRegions().stroke('none');

                map.colorRange().enabled(true);

                map.background(null);

                var nivelZoom = 3.1;
                var eixoX = 970;
                var eixoY = 1000;

                map.zoomTo(nivelZoom, eixoX, eixoY);

                map.container('mapSul');

                map.draw();
            });

        } else if (regioes == 6) {

            mapBrasil.style.display = 'none';
            mapNorte.style.display = 'none';
            mapCentro.style.display = 'none';
            mapSul.style.display = 'none';
            mapSudeste.style.display = 'block';
            mapNordeste.style.display = 'none';

            // Nordeste

            anychart.onDocumentReady(function () {
                var map = anychart.map();

                function getDataSudeste() {

                    return [
                        { "id": "BR.SP", "value": 50 },
                        { "id": "BR.RJ", "value": 90 },
                        { "id": "BR.MG", "value": 75 },
                        { "id": "BR.ES", "value": 60 }
                    ];
                }

                var dataSet = anychart.data.set(getDataSudeste());

                series = map.choropleth(dataSet);

                series.geoIdField('id');
                series.colorScale(anychart.scales.linearColor('#FFFFFF', '#FF670A'));
                series.hovered().fill('#addd8e');

                map.geoData(anychart.maps['brazil']);

                map.unboundRegions().enabled(true);
                map.unboundRegions().fill('none');
                map.unboundRegions().stroke('none');

                map.colorRange().enabled(true);

                map.background(null);

                var nivelZoom = 3.0;
                var eixoX = 1100;
                var eixoY = 500;

                map.zoomTo(nivelZoom, eixoX, eixoY);

                map.container('mapSudeste');

                map.draw();
            });

        }
    }

</script>